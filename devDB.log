CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
drop table meeting_groep if exists
drop table meetup if exists
drop table registration_code if exists
drop table requestmap if exists
drop table role if exists
drop table rsvp if exists
drop table user if exists
drop table user_role if exists
create table meeting_groep (id bigint generated by default as identity (start with 1), version bigint not null, omschrijving varchar(255) not null, titel varchar(255) not null, primary key (id))
create table meetup (id bigint generated by default as identity (start with 1), version bigint not null, datum timestamp not null, meeting_groep_id bigint not null, omschrijving varchar(255) not null, titel varchar(255) not null, primary key (id))
create table registration_code (id bigint generated by default as identity (start with 1), date_created timestamp not null, token varchar(255) not null, username varchar(255) not null, primary key (id))
create table requestmap (id bigint generated by default as identity (start with 1), version bigint not null, config_attribute varchar(255) not null, url varchar(255) not null, primary key (id), unique (url))
create table role (id bigint generated by default as identity (start with 1), version bigint not null, authority varchar(255) not null, primary key (id), unique (authority))
create table rsvp (id bigint generated by default as identity (start with 1), version bigint not null, meetup_id bigint not null, rsvp_state varchar(255) not null, user_id bigint not null, primary key (id))
create table user (id bigint generated by default as identity (start with 1), version bigint not null, account_expired bit not null, account_locked bit not null, enabled bit not null, "password" varchar(255) not null, password_expired bit not null, username varchar(255) not null, primary key (id), unique (username))
create table user_role (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
alter table meetup add constraint FKBFBF2D22FDC8DEB0 foreign key (meeting_groep_id) references meeting_groep
alter table rsvp add constraint FK3590BBB7D13627 foreign key (user_id) references user
alter table rsvp add constraint FK3590BBAE1F4387 foreign key (meetup_id) references meetup
alter table user_role add constraint FK143BF46A12A67247 foreign key (role_id) references role
alter table user_role add constraint FK143BF46AB7D13627 foreign key (user_id) references user
INSERT INTO ROLE VALUES(1,0,'ROLE_USER')
INSERT INTO USER VALUES(1,0,FALSE,FALSE,TRUE,'4697c20f8a70fcad6323e007d553cfe05d4433f81be70884ea3b4834b147f4c1',FALSE,'marc')
INSERT INTO USER_ROLE VALUES(1,1)
INSERT INTO USER VALUES(2,0,FALSE,FALSE,TRUE,'10b05c446ea776cdcae1ab10f5dcdbad5eeb9250a8b6f62752e6d4e755850fab',FALSE,'michel')
INSERT INTO USER_ROLE VALUES(1,2)
INSERT INTO USER VALUES(3,0,FALSE,FALSE,TRUE,'437427659f2bd4a7b3f461202130373257e7fe7484667759709c11f3cea78441',FALSE,'mrhaki')
INSERT INTO USER_ROLE VALUES(1,3)
INSERT INTO MEETING_GROEP VALUES(1,0,'Architectuur','Architectuur')
INSERT INTO MEETING_GROEP VALUES(2,0,'Grails','Grails')
INSERT INTO MEETING_GROEP VALUES(3,0,'SEAM','SEAM')
INSERT INTO MEETING_GROEP VALUES(4,0,'Coding','Coding')
INSERT INTO MEETING_GROEP VALUES(5,0,'Agile SIG','Agile SIG')
INSERT INTO MEETING_GROEP VALUES(6,0,'Scala','Scala')
INSERT INTO MEETUP VALUES(1,0,'2010-12-19 00:00:00.000000000',5,'T.O.C. Demming Cycle','Agile SIG')
INSERT INTO MEETUP VALUES(2,0,'2010-12-19 00:00:00.000000000',1,'Design Patterns','Archictuur SIG')
INSERT INTO MEETUP VALUES(3,0,'2011-01-19 00:00:00.000000000',2,'TDD','Gails SIG')
INSERT INTO MEETUP VALUES(4,0,'2011-02-19 00:00:00.000000000',6,'LIFT','Scala Usergroup')
INSERT INTO MEETUP VALUES(5,0,'2011-02-24 00:00:00.000000000',3,'IRIS','SEAM SIG')
INSERT INTO MEETUP VALUES(6,0,'2011-02-24 00:00:00.000000000',4,'SETS','Coding Dojo')
INSERT INTO MEETUP VALUES(7,0,'2010-11-12 00:00:00.000000000',4,'Weekend fun','Java weekend')
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
INSERT INTO RSVP VALUES(1,0,3,'YES',3)
